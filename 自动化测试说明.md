# ⏰ 自动化测试说明

## 🎯 测试模式选择

运行自动化测试时,可以选择以下模式:

### 1️⃣ 快速测试 (推荐新手)
```
测试时长: 1小时
测试间隔: 5分钟
测试轮数: 12轮
```
**适合**: 快速验证功能

### 2️⃣ 短期测试
```
测试时长: 6小时
测试间隔: 10分钟
测试轮数: 36轮
```
**适合**: 半天测试

### 3️⃣ 中期测试
```
测试时长: 1天 (24小时)
测试间隔: 30分钟
测试轮数: 48轮
```
**适合**: 日常稳定性测试

### 4️⃣ 长期测试
```
测试时长: 3天 (72小时)
测试间隔: 1小时
测试轮数: 72轮
```
**适合**: 长期稳定性测试

### 5️⃣ 完整测试
```
测试时长: 7天 (168小时)
测试间隔: 2小时
测试轮数: 84轮
```
**适合**: 完整压力测试

### 6️⃣ 自定义
```
输入方式:
  - 测试时长: 输入天数和小时 (例如: 2天6小时)
  - 测试间隔: 选择预设间隔或自定义
```
**适合**: 特殊需求

**示例**:
- 输入: 2天 + 12小时 → 测试60小时
- 选择间隔: 每30分钟 → 120轮测试

---

## 🚀 使用方法

### 方式1: 主菜单
```bash
bash wallet_tools.sh
# 选择 "8. 自动化测试"
# 然后选择测试模式 (1-6)
```

### 方式2: 直接运行
```bash
bash week_automated_test_final.sh
# 选择测试模式 (1-6)
```

---

## 📊 测试内容

每轮测试包含6项检查:
1. ✅ 健康检查
2. ✅ 钱包列表
3. ✅ 创建钱包
4. ✅ 余额查询
5. ✅ 交易历史
6. ✅ 网络状态

---

## 🔧 测试特性

### ✅ 自动启动服务器
- 如果服务器未运行,自动后台启动
- 等待15秒确保启动成功
- 验证服务器健康状态

### ✅ 详细日志记录
- 每轮测试结果
- 成功/失败统计
- 实时成功率
- 保存到 `logs/week_test/` 目录

### ✅ 随时停止
- 按 `Ctrl+C` 可以随时停止测试
- 会生成最终测试报告

---

## 💡 推荐配置

### 日常使用
```
选择: 1. 快速测试
理由: 1小时完成,快速验证
```

### 压力测试
```
选择: 3. 中期测试
理由: 24小时,全面测试
```

### 长期验证
```
选择: 4. 长期测试
理由: 3天,充分验证稳定性
```

---

## 📝 查看测试日志

### 实时查看
```bash
bash wallet_tools.sh
# 选择 "5. 查看服务器日志"
# 选择 "5. 实时跟踪日志"
```

### 查看测试日志
```bash
ls -lh logs/week_test/
cat logs/week_test/automated_test_*.log
```

---

## 🚨 注意事项

1. **服务器自动启动**: 测试会自动启动服务器,无需手动启动
2. **后台运行**: 服务器在后台运行,不会卡住界面
3. **日志保存**: 所有测试结果保存到日志文件
4. **随时停止**: 按 `Ctrl+C` 可以随时停止

---

## 📊 测试报告示例

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 最终测试报告
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
开始时间: 2025-10-25 13:00:00
结束时间: 2025-10-25 14:00:00
总测试轮数: 12
成功测试: 72
失败测试: 0
成功率: 100%
详细日志: logs/week_test/automated_test_20251025_130000.log
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 🎯 快速开始

```bash
# 1. 进入项目目录
cd "C:\Users\plant\Desktop\Rust区块链\Rust-Blockchain-Secure-Wallet"

# 2. 运行自动化测试
bash week_automated_test_final.sh

# 3. 选择测试模式
# 推荐选择 "1. 快速测试" 进行首次尝试

# 4. 等待测试完成或按 Ctrl+C 停止
```

---

**享受自动化测试!** 🚀

